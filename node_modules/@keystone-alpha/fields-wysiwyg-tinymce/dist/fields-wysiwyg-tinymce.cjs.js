'use strict';

var _join = require("path").join;

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopDefault(ex) {
  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;
}

var path = require('path');

var express = _interopDefault(require('express'));

var fields = require('@keystone-alpha/fields');

function prepareMiddleware() {
  const tinymcePath = path.dirname(require.resolve('tinymce'));
  const app = express();
  app.use('/tinymce-assets', express.static(tinymcePath));
  return app;
}

let Wysiwyg = {
  type: 'Wysiwyg',
  implementation: fields.Text.implementation,
  views: {
    Controller: fields.Text.views.Controller,
    Field: _join(__dirname, "11z4har"),
    Filter: fields.Text.views.Filter
  },
  adapters: fields.Text.adapters,
  prepareMiddleware
};
exports.Wysiwyg = Wysiwyg;
